(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(27)},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(6),s=n.n(o),c=n(3),u=n(5),i=n(14),l=n(8),m=n(1),p=n.n(m),d=n(7),f=function(e,t){var n,r;return p.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.awrap(fetch(e));case 2:return n=t.sent,t.next=5,p.a.awrap(n.json());case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}})},E=function(e){return{type:"SET_IS_LOADING",isLoading:e}},h=function(e){return e.isLoading},_=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_LOADING":return t.isLoading;default:return e}},v=function(e){return e.isLoadedPosts},b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_LOADED_POSTS":return t.status;default:return e}},g=function(e){return{type:"SET_HAS_ERROR",hasError:e}},y=function(e){return e.hasError},P=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HAS_ERROR":return t.hasError;default:return e}},L=function(e){return e.preparedPosts},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.posts;case"DELETE_COMMENT":return e.map(function(e){return e.id===t.postId?Object(l.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.commentId})}):e});case"DELETE_POST":return e.filter(function(e){return e.id!==t.postId});default:return e}},w=Object(u.c)({preparedPosts:N,isLoading:_,isLoadedPosts:b,hasError:P}),O=Object(u.d)(w,Object(u.a)(i.a)),S=function(e){var t=e.postAuthor;return a.a.createElement("div",{className:"post__author-info"},a.a.createElement("h3",{className:"author-info__name"},t.name),a.a.createElement("p",{className:"author-info__email"},t.email),a.a.createElement("p",{className:"author-info__address"},"street:"," ",t.address.street,a.a.createElement("br",null),"suite:"," ",t.address.suite,a.a.createElement("br",null),"city:"," ",t.address.city,a.a.createElement("br",null),"zipcode:"," ",t.address.zipcode))},T={setCommentToRemove:function(e,t){return{type:"DELETE_COMMENT",commentId:e,postId:t}}},I=Object(c.b)(function(e){return{}},T)(function(e){var t=e.singleComment,n=e.setCommentToRemove;return a.a.createElement("li",{className:"comment"},a.a.createElement("div",{className:"comment__author-info"},t.name,a.a.createElement("br",null),t.email),a.a.createElement("div",{className:"comment__body"},t.body),a.a.createElement("button",{onClick:function(){n(t.id,t.postId)},type:"button",className:"button button_remove button_remove_comment"},"Delete Comment"))}),j=function(e){var t=e.comments;return a.a.createElement("ul",{className:"post__comments"},t.map(function(e){return a.a.createElement(I,{key:e.id,singleComment:e})}))},C=function(e){var t=e.singlePost,n=e.searchQuery,r=e.removePostId,o=function(e,t){var n=e.replace(/[\n\r]/g," ");if(0===t.length)return a.a.createElement("span",null,n);var r=new RegExp("(".concat(t,")"),"gi");return a.a.createElement("span",null,n.split(r).map(function(e,n){return e===t?a.a.createElement("span",{key:e+n.toString(),className:"highlighted"},e):e}))};return a.a.createElement(a.a.Fragment,null,a.a.createElement("article",{className:"post"},a.a.createElement("h1",{className:"post__title"},o(t.title,n)),a.a.createElement("button",{onClick:function(){r(t.id)},className:"button button_remove button_remove_post",type:"button"},"Delete Post"),a.a.createElement("h2",{className:"post__body"},o(t.body,n)),a.a.createElement(S,{postAuthor:t.author}),a.a.createElement(j,{comments:t.comments})))};C.defaultProps={searchQuery:""};var D={removePostId:function(e){return{type:"DELETE_POST",postId:e}}},x=Object(c.b)(function(e){return{}},D)(C);function A(e){var t=e.preparedPosts,n=e.isLoadingPosts,o=e.isLoadedPosts,s=e.loadPosts,c=e.hasError,u=Object(r.useState)(""),i=Object(d.a)(u,2),l=i[0],m=i[1],f=function(){return p.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.awrap(s());case 2:case"end":return e.stop()}})},E=function(e,t){var n;return function(){clearTimeout(n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];n=setTimeout.apply(void 0,[e,t].concat(a))}}(function(e){m(e.trim().toLowerCase())},1e3),h=t.filter(function(e){return(e.title+e.body).replace(/[\n\r]/g," ").toLowerCase().includes(l)});return c?a.a.createElement("section",null,a.a.createElement("p",null,"Something went wrong, try to reload page"),a.a.createElement("button",{type:"button",onClick:function(){f()}},n?"Loading":"Load the List of Posts")):o?a.a.createElement("section",{className:"posts"},a.a.createElement("input",{type:"text",name:"searchInPosts",className:"input input_search-in-posts",onChange:function(e){return E(e.target.value)},placeholder:"type for searching"}),0===h.length?a.a.createElement("section",{className:"nothing-was-found"},"Nothing was found..."):a.a.createElement("ul",{className:"posts-list"},h.map(function(e){return a.a.createElement("li",{key:e.id,className:"post-list__item"},a.a.createElement(x,{searchQuery:l,singlePost:e}))}))):a.a.createElement("button",{type:"button",onClick:f},n?"Loading":"Load the List of Posts")}var k={loadPosts:function(){return function(e){return e(g(!1)),e(E(!0)),function(){var e,t,n,r,a,o;return p.a.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,p.a.awrap(Promise.all([f("https://jsonplaceholder.typicode.com/posts/",[]),f("https://jsonplaceholder.typicode.com/users",[]),f("https://jsonplaceholder.typicode.com/comments",[])]));case 2:return e=s.sent,t=Object(d.a)(e,3),n=t[0],r=t[1],a=t[2],o=n.map(function(e){return Object(l.a)({},e,{author:r.find(function(t){return t.id===e.userId}),comments:a.filter(function(t){return t.postId===e.id})})}),s.abrupt("return",o);case 9:case"end":return s.stop()}})}().then(function(t){e(function(e){return{type:"SET_POSTS",posts:e}}(t))}).catch(function(){e(g(!0))}).finally(function(){e(E(!1)),e({type:"IS_LOADED_POSTS",status:!0})})}}},R=Object(c.b)(function(e){return{preparedPosts:L(e),isLoadingPosts:h(e),isLoadedPosts:v(e),hasError:y(e)}},k)(A);A.defaultProps={preparedPosts:[]};n(26);var M=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("h1",{className:"app-heading"},"Dynamic list of posts"),a.a.createElement(R,null))};s.a.render(a.a.createElement(c.a,{store:O},a.a.createElement(M,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.b0776c53.chunk.js.map