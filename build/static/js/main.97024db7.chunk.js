(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(26)},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(7),o=n.n(s),c=n(3),u=n(6),i=n(4),l=function(e){return e.preparedPosts.preparedPosts},m=function(e){return e.preparedPosts.isLoadedPosts},p={preparedPosts:[],isLoadedPosts:!1},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return Object(i.a)({},e,{preparedPosts:t.posts});case"IS_LOADED_POSTS":return Object(i.a)({},e,{isLoadedPosts:t.status});case"COMMENT_TO_DELETE":return Object(i.a)({},e,{preparedPosts:e.preparedPosts.map(function(e){return e.id===t.postId?Object(i.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.commentId})}):e})});case"POST_TO_DELETE":return Object(i.a)({},e,{preparedPosts:e.preparedPosts.filter(function(e){return e.id!==t.postId})});default:return e}},f=function(e){return e.isLoading},E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_LOADING":return t.isLoading;default:return e}},b=Object(u.b)({preparedPosts:d,isLoading:E}),h=Object(u.c)(b),_=n(2),P=n.n(_),v=n(11),y=function(e,t){var n,a;return P.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,P.a.awrap(fetch(e));case 2:if(!(n=r.sent).ok){r.next=8;break}return r.next=6,P.a.awrap(n.json());case 6:return a=r.sent,r.abrupt("return",a);case 8:return r.abrupt("return",t);case 9:case"end":return r.stop()}})},g="https://jsonplaceholder.typicode.com/posts/",O="https://jsonplaceholder.typicode.com/users",L="https://jsonplaceholder.typicode.com/comments",N=function(e){var t=e.postAuthor;return r.a.createElement("div",{className:"post__author-info"},r.a.createElement("h3",{className:"author-info__name"},t.name),r.a.createElement("p",{className:"author-info__email"},t.email),r.a.createElement("p",{className:"author-info__address"},"street:"," ",t.address.street,r.a.createElement("br",null),"suite:"," ",t.address.suite,r.a.createElement("br",null),"city:"," ",t.address.city,r.a.createElement("br",null),"zipcode:"," ",t.address.zipcode))},T={setCommentToRemove:function(e,t){return{type:"COMMENT_TO_DELETE",commentId:e,postId:t}}},I=Object(c.b)(function(e){return{}},T)(function(e){var t=e.singleComment,n=e.setCommentToRemove;return r.a.createElement("li",{className:"comment"},r.a.createElement("div",{className:"comment__author-info"},t.name,r.a.createElement("br",null),t.email),r.a.createElement("div",{className:"comment__body"},t.body),r.a.createElement("button",{onClick:function(){n(t.id,t.postId)},type:"button",className:"button button_remove button_remove_comment"},"Delete Comment"))}),S=function(e){var t=e.comments;return r.a.createElement("ul",{className:"post__comments"},t.map(function(e){return r.a.createElement(I,{key:e.id,singleComment:e})}))},w=function(e){var t=e.singlePost,n=e.searchQuery,a=e.removePostId,s=function(e,t){var n=e.replace(/[\n\r]/g," ");if(0===t.length)return r.a.createElement("span",null,n);var a=new RegExp("(".concat(t,")"),"gi");return r.a.createElement("span",null,n.split(a).map(function(e,n){return e===t?r.a.createElement("span",{key:e+n.toString(),className:"highlighted"},e):e}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("article",{className:"post"},r.a.createElement("h1",{className:"post__title"},s(t.title,n)),r.a.createElement("button",{onClick:function(){a(t.id)},className:"button button_remove button_remove_post",type:"button"},"Delete Post"),r.a.createElement("h2",{className:"post__body"},s(t.body,n)),r.a.createElement(N,{postAuthor:t.author}),r.a.createElement(S,{comments:t.comments})))};w.defaultProps={searchQuery:""};var j={removePostId:function(e){return{type:"POST_TO_DELETE",postId:e}}},C=Object(c.b)(function(e){return{}},j)(w);function D(e){var t=e.preparedPosts,n=e.setPreparedPosts,s=e.isLoadingPosts,o=e.setIsLoadingPosts,c=e.isLoadedPosts,u=e.setIsLoadedPosts,l=Object(a.useState)(""),m=Object(v.a)(l,2),p=m[0],d=m[1],f=function(){var e,t,n,a,r;return P.a.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,P.a.awrap(Promise.all([y(g,[]),y(O,[]),y(L,[])]));case 2:return e=s.sent,t=Object(v.a)(e,3),n=t[0],a=t[1],r=t[2],s.abrupt("return",n.map(function(e){return Object(i.a)({},e,{author:a.find(function(t){return t.id===e.userId}),comments:r.filter(function(t){return t.postId===e.id})})}));case 8:case"end":return s.stop()}})},E=function(e,t){var n;return function(){clearTimeout(n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];n=setTimeout.apply(void 0,[e,t].concat(r))}}(function(e){d(e.trim().toLowerCase())},1e3);return c?r.a.createElement("section",{className:"posts"},r.a.createElement("input",{type:"text",name:"searchInPosts",className:"input input_search-in-posts",onChange:function(e){return E(e.target.value)},placeholder:"type for searching"}),r.a.createElement("ul",{className:"posts-list"},t.filter(function(e){return(e.title+e.body).replace(/[\n\r]/g," ").toLowerCase().includes(p)}).map(function(e){return r.a.createElement("li",{key:e.id,className:"post-list__item"},r.a.createElement(C,{searchQuery:p,singlePost:e}))}))):r.a.createElement("button",{type:"button",onClick:function(){return P.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.t0=n,e.next=4,P.a.awrap(f());case 4:e.t1=e.sent,(0,e.t0)(e.t1),u(!0);case 7:case"end":return e.stop()}})}},s?"Loading":"Load the List of Posts")}var x={setPreparedPosts:function(e){return{type:"SET_POSTS",posts:e}},setIsLoadingPosts:function(e){return{type:"SET_IS_LOADING",isLoading:e}},setIsLoadedPosts:function(e){return{type:"IS_LOADED_POSTS",status:e}}},k=Object(c.b)(function(e){return{preparedPosts:l(e),isLoadingPosts:f(e),isLoadedPosts:m(e)}},x)(D);D.defaultProps={preparedPosts:[]};n(25);var A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"app-heading"},"Dynamic list of posts"),r.a.createElement(k,null))};o.a.render(r.a.createElement(c.a,{store:h},r.a.createElement(A,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.97024db7.chunk.js.map